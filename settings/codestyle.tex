\RequirePackage{scrhack} % package for compatibility with listings
\RequirePackage{listings} % code formatting

%\usepackage{beramono} %Uncomment for IDE-style code font
%\usepackage{inconsolata} %Uncomment for scientific style code font

% listing listing
\NewDocumentCommand{\listingStart}{m m}{
\begin{lstlisting}[language={#1}, caption={#2}]
}

\newcommand{\listingEnd}[0]{
\end{lstlisting}
}

\renewcommand*{\lstlistingname}{Code}
\renewcommand*{\lstlistlistingname}{Codeverzeichnis}

% language definition: Kotlin (example)
\lstdefinelanguage{Kotlin} {
    morekeywords={abstract, actual, as, as?, break, by, class, companion, continue, data, do, dynamic, else, enum, expect, false, final, for, fun, get, if, import, in, interface, internal, is, null, object, override, package, private, public, return, set, super, suspend, this, throw, true, try, typealias, val, var, vararg, when, where, while},
    morestring=[b]",
    morestring=[b]',
    morecomment=[l]{*},
    morecomment=[s]{/*}{*/}
}

\lstset{frame=tb,
    language=Kotlin,
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\small\ttfamily},
    numbers=none,
    numberstyle=\small\ttfamily,
    keywordstyle=\textcolor{blue},
    commentstyle=\color{dkgreen},
    stringstyle=\textcolor{red},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=3,
    captionpos=b
}

% language definition: Java (example)
\lstdefinestyle{Java}{
  backgroundcolor=\color{backcolour}, 
  commentstyle=\color{codegreen},
  keywordstyle=\color{blue},
  numberstyle=\tiny\color{codegray},
  stringstyle=\color{codegreen},
  basicstyle=\ttfamily\footnotesize,
  breakatwhitespace=false,         
  breaklines=true,
  postbreak=\mbox{\textcolor{black}{$\hookrightarrow$}\space},
  captionpos=b,                    
  keepspaces=true,                 
  numbers=left,                    
  numbersep=5pt,                  
  showspaces=false,                
  showstringspaces=false,
  showtabs=false,                  
  tabsize=2,
  otherkeywords={var},
  columns=fullflexible,
}
\lstset{style=Java}
\lstset{texcl=true}